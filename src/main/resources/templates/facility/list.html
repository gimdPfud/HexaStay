<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>직원 관리</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="container mt-4">
  <form class="row g-3">
    <div class="col-md-3">
      <label class="form-label">검색 조건</label>
      <select class="form-select">
        <option>전체</option>
        <option>사번</option>
        <option>직책</option>
        <option>이름</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">브랜드</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">지사</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">지점</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-9">
      <input type="text" class="form-control" placeholder="검색어 입력">
    </div>
    <div class="col-md-3">
      <button type="submit" class="btn btn-success w-100">조회</button>
    </div>
  </form>

  <table class="table table-bordered mt-4 text-center">
    <thead>
    <tr>
      <th>브랜드명</th>
      <th>본사명</th>
      <th>지사명</th>
      <th>지점명</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="facilityDTOS : ${facilityDTOS}">
      <td th:text="${facilityDTOS.브랜드명}"></td>
      <td th:text="${facilityDTOS.센터명}"></td>
      <td th:text="${facilityDTOS.지사명}"></td>
      <td th:text="${facilityDTOS.facilityName}"></td>
      <td th:text="${facilityDTOS.facilityBusinessNum}"></td>
      <td th:text="${facilityDTOS.facilityCeoName}"></td>
      <td th:text="${facilityDTOS.facilityPhone}"></td>
      <td th:text="${facilityDTOS.facilityEmail}"></td>
      <td th:text="${facilityDTOS.facilityAddress}"></td>

      <td>
        <a th:href="@{/facility/read/{facilityNum}(facilityNum=${facilityDTOS.facilityNum})}" class="btn btn-success">상세보기</a>
      </td>

    </tr>
    </tbody>
  </table>

  <!--페이징-->
  <div class="row m-0 p-0 mt-3">
    <div class="col-3"></div>
    <ul class="col-6 pagination justify-content-center col">
      <!-- 처음 페이지 버튼 -->
      <li class="page-item" th:classappend="${facilityDTOS.number == 0} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page=0}">처음</a>
      </li>

      <!-- 이전 페이지 버튼 -->
      <li class="page-item" th:classappend="${!facilityDTOS.hasPrevious()} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={prev}(prev=${facilityDTOS.number - 1})}">이전</a>
      </li>

      <!-- 현재 페이지 기준 앞 4개, 뒤 5개 -->
      <li class="page-item"
          th:each="pageNum : ${#numbers.sequence(
    (facilityDTOS.number - 4 > 0 ? facilityDTOS.number - 4 : 0),
    (facilityDTOS.number + 5 < facilityDTOS.totalPages - 1 ? facilityDTOS.number + 5 : facilityDTOS.totalPages - 1)
    )}"
          th:classappend="${pageNum == facilityDTOS.number} ? 'active'">
        <a class="page-link" th:href="@{/freeboard?page={p}(p=${pageNum})}" th:text="${pageNum + 1}"></a>
      </li>

      <!-- 다음 페이지 버튼 -->
      <li class="page-item" th:classappend="${!facilityDTOS.hasNext()} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={next}(next=${facilityDTOS.number + 1})}">다음</a>
      </li>

      <!-- 마지막 페이지 버튼 -->
      <li class="page-item" th:classappend="${facilityDTOS.number == facilityDTOS.totalPages - 1} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={last}(last=${facilityDTOS.totalPages - 1})}">마지막</a>
      </li>

    </ul>

  </div>

  <!-- 상세보기 모달 -->
  <div class="modal fade" id="centerDetailModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">조직 상세 정보</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="list-group">
            <li class="list-group-item"><strong>브랜드명:</strong> <span id="modalCenterBrand"></span></li>
            <li class="list-group-item"><strong>본사명:</strong> <span id="modalCenterName"></span></li>
            <li class="list-group-item"><strong>지사명:</strong> <span id="modalCenterBusinessNum"></span></li>
            <li class="list-group-item"><strong>지점명:</strong> <span id="modalCenterCeoName"></span></li>
            <li class="list-group-item"><strong>전화번호:</strong> <span id="modalCenterPhone"></span></li>
            <li class="list-group-item"><strong>이메일:</strong> <span id="modalCenterEmail"></span></li>
            <li class="list-group-item"><strong>주소:</strong> <span id="modalCenterAddress"></span></li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
        </div>
      </div>
    </div>
  </div>

</div>
</body>

</html>
