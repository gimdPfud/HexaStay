<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
<head>
    <meta charset="UTF-8">
    <!--부트 스트랩-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--부트 스트랩 스타일시트(HTML 속성)-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--부트스트랩에 효과(자바스크립트)-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!--부트스트랩 아이콘-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <title>Title</title>
</head>
<body>
<div class="container mt-4">
  <div class="row"><!--상단 제목 나중에 수정 들어 갈수 있음-->
    <div class="col">
      <h3 class="mb-3">Room 배정 리스트 페이지</h3>
      <h5><a th:href="@{/hotelroom/insert}">룸등록 페이지</a> </h5>
    </div>
  </div><!--상단 제목 나중에 수정 들어 갈수 있음-->

  <div class="row g-3"><!--상단 시작-->
    <div class="col-md-6" >
      <div class="card p-3" style="background: #edd1fd">
        <label class="form-label">브랜드명</label>
        <select class="form-select">
          <option>세령</option>
          <option>Hexa</option>
          <option>SixSense</option>
        </select>
        <label class="form-label mt-2">지사명</label>
        <select class="form-select">
          <option>Hexa역곡지점</option>
          <option>세령 워터파크 부천점</option>
          <option>부천점</option>
        </select>
        <label class="form-label mt-2">가입정보</label>
        <div>
          <input type="radio" name="가입정보" id="전체" checked> <label for="전체">전체</label>
          <input type="radio" name="가입정보" id="일반"> <label for="일반">일반</label>
          <input type="radio" name="가입정보" id="아카운트"> <label for="아카운트">아카운트</label>
        </div>
        <label class="form-label mt-2">아이디(이메일)</label>
        <input type="text" class="form-control" placeholder="이메일 입력">
      </div>
    </div>
  </div><!--상단 페이지 종료-->

  <div class="text-center my-3"><!--중단 버튼-->
    <button class="btn btn-primary">검색</button>
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#idSearchModal">룸배정내역 검색</button><!--자바 스크립트-->
    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#registerModal">등록</button>
    <button class="btn btn-secondary">엑셀 저장</button>
  </div><!--중단 버튼 종료-->

  <div class="table-responsive"><!--하단 게시판 형태-->
    <table class="table table-bordered text-center">
      <thead class="table-dark">
      <tr>
        <th>Check</th>
        <th>No</th>
        <th>멤버DB 고객성함</th>
        <th>오더DB 룸정보</th>
        <th>오더DB 룸가격</th>
        <th>오더DB 숙박일수</th>
        <th>룸DB 체크인</th>
        <th>룸DB 체크아웃</th>
        <th>룸DB 비밀번호</th>
        <th>룸DB 배정상태</th>
        <th>상태</th>
      </tr>
      </thead>
      <tbody>

      <tr>
        <td><input type="checkbox"></td>
        <td>1</td>
        <td>멤버DB 고객성함</td>
        <td>오더DB 룸정보</td>
        <td>오더DB 룸가격</td>
        <td>오더DB 숙박일수</td>
        <td>룸DB 체크인</td>
        <td>룸DB 체크아웃</td>
        <td>룸DB 비밀번호</td>
        <td>룸DB 배정상태</td>
        <td><button class="btn btn-danger btn-sm">삭제및등록</button></td>
      </tr>

      </tbody>
    </table>
  </div><!--하단 게시판 종료-->
</div>

<!--1.modal 시작지점-->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="registerModalLabel">등록</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <label class="form-label">브랜드명</label>
        <select class="form-select">
          <option>HEXA</option>
          <option>SixSense</option>
          <option>세령</option>
        </select>

        <label class="form-label mt-2">지사명</label>
        <select class="form-select">
          <option>Hexa_역곡점</option>
          <option>부천세방다리길</option>
          <option>빽다방 떡복이점</option>
        </select>

        <label class="form-label mt-2">Room명</label>
        <label class="form-label">룸배정상태</label>
        <select class="form-select">
          <option>청소중</option>
          <option>숙박중</option>
          <option>체크아웃</option>
        </select>


        <textarea type="text" class="form-control" placeholder="호명 입력"></textarea>>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
        <button type="button" class="btn btn-primary">저장</button>
      </div>
    </div>
  </div>
</div>
<!--1.modal 끝지점-->

<!--2.Modal시작점-->
<div class="modal fade" id="idSearchModal" tabindex="-1" aria-labelledby="idSearchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">아이디 검색</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- 검색 폼 -->
        <div class="row mb-3">
          <div class="col-md-6">
            <input type="text" class="form-control" placeholder="아이디 입력" th:value="${searchId}">
          </div>
          <div class="col-md-6">
            <button class="btn btn-primary">검색</button>
          </div>
        </div>

        <!-- 검색 결과 테이블 -->
        <table class="table table-bordered text-center">
          <thead class="table-dark">
          <tr>
            <th>No</th>
            <th>아이디(이메일)</th>
            <th>닉네임</th>
            <th>전화번호</th>
            <th>추가</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="user, stat : ${userList}">
            <td th:text="${stat.count}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.nickname}"></td>
            <td th:text="${user.phone}"></td>
            <td><button class="btn btn-success" th:attr="onclick='addUser(\'' + ${user.email} + '\')'">추가</button></td>
          </tr>
          </tbody>
        </table>

        <!-- 추가된 사용자 리스트 -->
        <h5 class="mt-4">추가된 사용자</h5>
        <table class="table table-bordered text-center">
          <thead class="table-light">
          <tr>
            <th>No</th>
            <th>아이디(이메일)</th>
            <th>닉네임</th>
            <th>전화번호</th>
            <th>삭제</th>
          </tr>
          </thead>
          <tbody id="addedUsers">
          <!-- JavaScript로 동적 추가 -->
          </tbody>
        </table>

        <div class="text-center mt-3">
          <button class="btn btn-primary">추가</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!--2.Modal 끝점-->


<!--룸매정 내역 검색  검색 스트립트 부분-->
<script>
  function addUser(email) {
    let table = document.getElementById("addedUsers");
    let row = table.insertRow();
    row.innerHTML = `
                <td>#</td>
                <td>${email}</td>
                <td>사용자 닉네임</td>
                <td>010-1234-5678</td>
                <td><button class="btn btn-danger" onclick="removeUser(this)">삭제</button></td>
            `;
  }

  function removeUser(button) {
    let row = button.parentElement.parentElement;
    row.remove();
  }
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>