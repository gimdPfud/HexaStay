<div id="navbarorder" class="navbarorder" th:fragment="navbarorder">
    <nav class="navbar navbar-light bg-white border-bottom">
        <div class="container d-flex justify-content-between align-items-center">

            <!-- 좌측: 뒤로가기 -->
            <div style="width: 100px;">
                <button class="btn btn-link p-0" onclick="history.back()">
                    <i class="bi bi-arrow-left fs-1"></i>
                </button>
            </div>

            <!-- 중앙: 타이틀 -->
            <div class="text-center flex-grow-1">
                <a href="/main" style="text-decoration: none;">
                    <span class="fw-bold" style="font-size: 24px;">주문</span>
                </a>
            </div>

            <!-- 우측: 장바구니 -->
            <div style="width: 100px; text-align: right;">
                <a href="/gocart" class="position-relative d-inline-block">
                    <i class="bi bi-cart fs-1"></i>
                    <span id="cartnumber"
                          class="position-absolute top-0 start-80 translate-middle badge rounded-pill bg-danger">
                        <span class="visually-hidden">장바구니 아이템 개수</span>
                    </span>
                </a>
            </div>


        </div>
    </nav>

    <script th:inline="javascript">
        let cartnumber = document.getElementById("cartnumber");
        document.addEventListener("DOMContentLoaded",function () {
            fetch("/member/getlength",{
                credentials: 'same-origin'
            })
                .then(response=>{
                    if(response.ok){
                        return response.json();
                    }
                })
                .then(data=>{
                    if(cartnumber){
                        if(data==0){
                            cartnumber.style.display="none";
                        }else{
                            cartnumber.textContent = data;
                            cartnumber.style.display = "inline-block";
                        }
                    }
                })
        })
    </script>
</div>
