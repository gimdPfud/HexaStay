<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>지사 관리</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="container mt-4">
  <form class="row g-3">
    <div class="col-md-3">
      <label class="form-label">검색 조건</label>
      <select class="form-select">
        <option>전체</option>
        <option>사번</option>
        <option>직책</option>
        <option>이름</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">브랜드</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">지사</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">지점</label>
      <select class="form-select">
        <option>전체</option>
      </select>
    </div>
    <div class="col-md-9">
      <input type="text" class="form-control" placeholder="검색어 입력">
    </div>
    <div class="col-md-3">
      <button type="submit" class="btn btn-success w-100">조회</button>
    </div>
  </form>

  <table class="table table-bordered mt-4 text-center">
    <thead>
    <tr>
      <th>브랜드명</th>
      <th>본사명</th>
      <th></th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="branchDTOS : ${branchDTOS}">
      <td th:text="${branchDTOS.branchName}"></td>
      <td th:text="${branchDTOS.branchBusinessNum}"></td>
      <td th:text="${branchDTOS.branchCeoName}"></td>
      <td th:text="${branchDTOS.branchPhone}"></td>
      <td th:text="${branchDTOS.branchEmail}"></td>
      <td th:text="${branchDTOS.branchAddress}"></td>

      <td>
        <a th:href="@{/branch/read/{branchNum}(branchNum=${branchDTOS.branchNum})}" class="btn btn-success">상세보기</a>
      </td>

    </tr>
    </tbody>
  </table>

  <!--페이징-->
  <div class="row m-0 p-0 mt-3">
    <div class="col-3"></div>
    <ul class="col-6 pagination justify-content-center col">
      <!-- 처음 페이지 버튼 -->
      <li class="page-item" th:classappend="${branchDTOS.number == 0} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page=0}">처음</a>
      </li>

      <!-- 이전 페이지 버튼 -->
      <li class="page-item" th:classappend="${!branchDTOS.hasPrevious()} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={prev}(prev=${branchDTOS.number - 1})}">이전</a>
      </li>

      <!-- 현재 페이지 기준 앞 4개, 뒤 5개 -->
      <li class="page-item"
          th:each="pageNum : ${#numbers.sequence(
    (branchDTOS.number - 4 > 0 ? branchDTOS.number - 4 : 0),
    (branchDTOS.number + 5 < branchDTOS.totalPages - 1 ? branchDTOS.number + 5 : branchDTOS.totalPages - 1)
    )}"
          th:classappend="${pageNum == branchDTOS.number} ? 'active'">
        <a class="page-link" th:href="@{/freeboard?page={p}(p=${pageNum})}" th:text="${pageNum + 1}"></a>
      </li>

      <!-- 다음 페이지 버튼 -->
      <li class="page-item" th:classappend="${!branchDTOS.hasNext()} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={next}(next=${branchDTOS.number + 1})}">다음</a>
      </li>

      <!-- 마지막 페이지 버튼 -->
      <li class="page-item" th:classappend="${branchDTOS.number == branchDTOS.totalPages - 1} ? 'disabled'">
        <a class="page-link" th:href="@{/freeboard?page={last}(last=${branchDTOS.totalPages - 1})}">마지막</a>
      </li>

    </ul>

  </div>
</div>
</body>
</html>
